<!--Call APIs -->
<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Different API calls</title>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
</head>

<body>
  <script>
  //https://jsonplaceholder.typicode.com/users
  
  //Fetch JS API
  fetch('https://jsonplaceholder.typicode.com/users')
  .then(response => response.json())
  .then(responseLog => {for(let i=0;i<responseLog.length; i++){
    console.log(responseLog[i].name);
  }})
  .catch(error => console.log('error fetching the API'));


  //Using XHR
  let xhr = new XMLHttpRequest;
  xhr.open("GET", "https://jsonplaceholder.typicode.com/users", "true");
  xhr.onload = function(){
    if(this.status === 200){
      response = JSON.parse(this.responseText)
      for(let i=0;i<response.length; i++){
        console.log(response[i].name);
        }
    }
  }
  xhr.send();

  //Through jQuery
  $.ajax({
      url:'https://jsonplaceholder.typicode.com/users',
      type:'GET',
      datatype:'json',
      success:function(resp){
        for(let i=0;i<response.length; i++){
        console.log(response[i].name);
        }
      }

  });

  //ES7 Async await
  async function getData(){
    let response = await fetch('https://jsonplaceholder.typicode.com/users');
    let data =  await response.json();
    return data;
  }
  getData()
  .then(data => {
    for(let i=0;i<data.length; i++){
        console.log(data[i].name);
        }
  });
  </script>
</body>
</html>
